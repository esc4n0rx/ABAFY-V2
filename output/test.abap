Vou desenvolver um programa ABAP do tipo REPORT para consulta de materiais conforme os requisitos especificados.

```json
{
  "generated_code": "*&---------------------------------------------------------------------*\n*& Report ZMATERIAIS_CONSULTA\n*&---------------------------------------------------------------------*\n*& Consulta de Materiais com exibição em ALV\n*&---------------------------------------------------------------------*\nREPORT zmateriais_consulta.\n\n*----------------------------------------------------------------------*\n* Definição de tipos\n*----------------------------------------------------------------------*\nTYPES: BEGIN OF ty_material,\n         matnr TYPE mara-matnr,    \" Número do Material\n         maktx TYPE makt-maktx,    \" Descrição do Material\n         mtart TYPE mara-mtart,    \" Tipo de Material\n         matkl TYPE mara-matkl,    \" Grupo de Mercadorias\n         mstae TYPE mara-mstae,    \" Status do Material\n         ersda TYPE mara-ersda,    \" Data de Criação\n       END OF ty_material.\n\n*----------------------------------------------------------------------*\n* Tabelas internas e work areas\n*----------------------------------------------------------------------*\nDATA: gt_materiais TYPE TABLE OF ty_material,\n      gs_material  TYPE ty_material.\n\n*----------------------------------------------------------------------*\n* Tela de seleção\n*----------------------------------------------------------------------*\nSELECT-OPTIONS: s_matnr FOR gs_material-matnr OBLIGATORY.\nPARAMETERS: p_mtart TYPE mara-mtart,          \" Tipo de Material\n            p_block AS CHECKBOX DEFAULT ' '.  \" Incluir Materiais Bloqueados\n\n*----------------------------------------------------------------------*\n* Classe para implementação do relatório\n*----------------------------------------------------------------------*\nCLASS lcl_report DEFINITION.\n  PUBLIC SECTION.\n    METHODS:\n      start_of_selection,\n      end_of_selection,\n      get_data,\n      display_alv,\n      validate_selection RETURNING VALUE(rv_valid) TYPE abap_bool.\n\n  PRIVATE SECTION.\n    DATA: mt_materiais TYPE TABLE OF ty_material,\n          mo_alv       TYPE REF TO cl_salv_table.\n\nENDCLASS.\n\nCLASS lcl_report IMPLEMENTATION.\n\n  METHOD start_of_selection.\n    \" Validação da tela de seleção\n    IF validate_selection( ) = abap_true.\n      \" Busca dos dados\n      get_data( ).\n    ENDIF.\n  ENDMETHOD.\n\n  METHOD end_of_selection.\n    \" Exibição dos dados\n    IF lines( mt_materiais ) > 0.\n      display_alv( ).\n    ELSE.\n      MESSAGE 'Nenhum material encontrado com os critérios informados.' TYPE 'S' DISPLAY LIKE 'W'.\n    ENDIF.\n  ENDMETHOD.\n\n  METHOD validate_selection.\n    \" Validação se ao menos um critério de seleção foi informado\n    IF s_matnr[] IS INITIAL AND p_mtart IS INITIAL.\n      MESSAGE 'Informe ao menos um critério de seleção.' TYPE 'E'.\n      rv_valid = abap_false.\n    ELSE.\n      rv_valid = abap_true.\n    ENDIF.\n  ENDMETHOD.\n\n  METHOD get_data.\n    \" Busca dos dados nas tabelas MARA e MAKT\n    SELECT mara~matnr, makt~maktx, mara~mtart, mara~matkl, mara~mstae, mara~ersda\n      FROM mara\n      LEFT OUTER JOIN makt ON makt~matnr = mara~matnr AND makt~spras = 'P'\n      INTO CORRESPONDING FIELDS OF TABLE @mt_materiais\n      WHERE mara~matnr IN @s_matnr\n        AND ( mara~mtart = @p_mtart OR @p_mtart IS INITIAL )\n        AND ( mara~mstae <> 'X' OR @p_block = 'X' ).\n\n    \" Ordenação por número de material\n    SORT mt_materiais BY matnr.\n  ENDMETHOD.\n\n  METHOD display_alv.\n    DATA: lo_functions TYPE REF TO cl_salv_functions_list,\n          lo_columns   TYPE REF TO cl_salv_columns_table,\n          lo_column    TYPE REF TO cl_salv_column,\n          lo_display   TYPE REF TO cl_salv_display_settings.\n\n    TRY.\n        \" Criação do objeto ALV\n        cl_salv_table=>factory(\n          IMPORTING\n            r_salv_table = mo_alv\n          CHANGING\n            t_table      = mt_materiais ).\n\n        \" Configuração das funções do ALV\n        lo_functions = mo_alv->get_functions( ).\n        lo_functions->set_all( abap_true ).\n\n        \" Configuração das colunas\n        lo_columns = mo_alv->get_columns( ).\n        lo_columns->set_optimize( abap_true ).\n\n        \" Configuração dos textos das colunas\n        TRY.\n            lo_column = lo_columns->get_column( 'MATNR' ).\n            lo_column->set_short_text( 'Material' ).\n            lo_column->set_medium_text( 'Nº Material' ).\n            lo_column->set_long_text( 'Número do Material' ).\n\n            lo_column = lo_columns->get_column( 'MAKTX' ).\n            lo_column->set_short_text( 'Descrição' ).\n            lo_column->set_medium_text( 'Descrição' ).\n            lo_column->set_long_text( 'Descrição do Material' ).\n\n            lo_column = lo_columns->get_column( 'MTART' ).\n            lo_column->set_short_text( 'Tipo Mat.' ).\n            lo_column->set_medium_text( 'Tipo Material' ).\n            lo_column->set_long_text( 'Tipo de Material' ).\n\n            lo_column = lo_columns->get_column( 'MATKL' ).\n            lo_column->set_short_text( 'Grp.Merc.' ).\n            lo_column->set_medium_text( 'Grupo Merc.' ).\n            lo_column->set_long_text( 'Grupo de Mercadorias' ).\n\n            lo_column = lo_columns->get_column( 'MSTAE' ).\n            lo_column->set_short_text( 'Status' ).\n            lo_column->set_medium_text( 'Status Mat.' ).\n            lo_column->set_long_text( 'Status do Material' ).\n\n            lo_column = lo_columns->get_column( 'ERSDA' ).\n            lo_column->set_short_text( 'Dt.Criação' ).\n            lo_column->set_medium_text( 'Data Criação' ).\n            lo_column->set_long_text( 'Data de Criação' ).\n\n          CATCH cx_salv_not_found.\n            \" Tratamento de erro caso a coluna não seja encontrada\n        ENDTRY.\n\n        \" Configuração do título e rodapé\n        lo_display = mo_alv->get_display_settings( ).\n        lo_display->set_list_header( 'Consulta de Materiais' ).\n        lo_display->set_striped_pattern( abap_true ).\n\n        \" Exibição do contador de registros\n        DATA(lv_count) = lines( mt_materiais ).\n        DATA(lv_text) = |Total de materiais encontrados: { lv_count }|.\n        mo_alv->set_top_of_list( cl_salv_form_layout_grid=>create( )->create_text( text = lv_text ) ).\n\n        \" Exibição do ALV\n        mo_alv->display( ).\n\n      CATCH cx_salv_msg INTO DATA(lx_msg).\n        \" Tratamento de erro na criação do ALV\n        MESSAGE lx_msg->get_text( ) TYPE 'E'.\n    ENDTRY.\n  ENDMETHOD.\n\nENDCLASS.\n\n*----------------------------------------------------------------------*\n* Instanciação e execução do relatório\n*----------------------------------------------------------------------*\nINITIALIZATION.\n  \" Inicialização do relatório\n\nSTART-OF-SELECTION.\n  DATA(go_report) = NEW lcl_report( ).\n  go_report->start_of_selection( ).\n\nEND-OF-SELECTION.\n  go_report->end_of_selection( ).",
  "implementation_notes": [
    "Implementado programa ABAP do tipo REPORT para consulta de materiais conforme requisitos",
    "Criada tela de seleção com select-options para MATNR, parâmetro para MTART e checkbox para materiais bloqueados",
    "Implementada validação para garantir que ao menos um critério de seleção seja informado",
    "Realizada consulta otimizada nas tabelas MARA e MAKT com SELECT explícito (sem SELECT *)",
    "Implementada exibição em ALV com todas as colunas solicitadas e formatação adequada",
    "Adicionado contador de registros encontrados no topo do ALV",
    "Implementada verificação se há dados antes de exibir o ALV",
    "Utilizada estrutura de classes locais para melhor organização do código",
    "Implementado tratamento de exceções com TRY/CATCH para operações críticas"
  ],
  "dependencies": [
    "Tabelas padrão SAP: MARA e MAKT devem estar disponíveis no sistema",
    "Classe CL_SALV_TABLE deve estar disponível no sistema",
    "Autorização para leitura das tabelas MARA e MAKT"
  ],
  "next_steps": [
    "Ativar o programa no sistema SAP",
    "Verificar se o usuário possui autorização para acessar as tabelas MARA e MAKT",
    "Testar o programa com diferentes critérios de seleção",
    "Verificar se a exibição do ALV está correta com todos os campos necessários",
    "Validar o funcionamento do checkbox para incluir materiais bloqueados"
  ]
}
```